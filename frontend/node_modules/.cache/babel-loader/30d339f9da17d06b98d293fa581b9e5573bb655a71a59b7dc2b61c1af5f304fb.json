{"ast":null,"code":"import { reactive } from \"vue\";\nimport axios from \"axios\";\nexport default {\n  setup() {\n    const cardBody = null;\n    const state = reactive({\n      //\n      selected_category: \"\",\n      selected_date: \"\",\n      list: [],\n      isNone: true,\n      //\n      formData: {\n        id: \"\",\n        email: \"\",\n        title: \"\",\n        content: \"\",\n        createdAt: \"\",\n        password: \"\",\n        isActive: true\n      }\n    });\n    //time set method\n    const getToday = () => {\n      let date = new Date();\n      let year = date.getFullYear();\n      let month = (\"0\" + (1 + date.getMonth())).slice(-2);\n      let day = (\"0\" + date.getDate()).slice(-2);\n      return year + \"/\" + month + \"/\" + day;\n    };\n\n    // methdos\n\n    //edit\n    const editItem = id => {\n      console.log(\"edit -> state.item.id : \" + id);\n    };\n\n    //delete\n    const deleteItem = id => {\n      const pwd = prompt(\"plz enter the password\");\n      axios.delete(`/api/todolist/?id=${id}`).then(res => {\n        console.log(\"res.data by delete: \" + JSON.stringify(res.data));\n        state.list = res.data;\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n    //add\n    const addItem = () => {\n      state.formData.createdAt = getToday();\n      state.formData.id = new Date().getTime(); //create id\n\n      const formData = state.formData;\n      console.log(\"formData id-> \" + formData.id);\n      axios.post(\"/api/todolist\", formData).then(res => {\n        state.list = res.data;\n        console.log(\"res.data by post: \" + JSON.stringify(res.data));\n      }).catch(err => {\n        console.log(err);\n      }).finally(() => {\n        state.formData.id = \"\";\n        state.formData.email = \"\";\n        state.formData.title = \"\";\n        state.formData.content = \"\";\n        state.formData.createdAt = \"\";\n        state.formData.password = \"\";\n        //clear input\n      });\n    };\n\n    //hide and show button\n\n    const hideCardBody = id => {\n      const found = state.list.find(el => el.id == id);\n      found.isActive = !found.isActive;\n      const isActive = found.isActive;\n      axios.put(\"/api/todolist\", {\n        isActive,\n        id\n      }).then(res => {\n        state.list = res.data;\n        console.log(\"res.data by get: \" + JSON.stringify(res.data));\n      });\n    };\n\n    //show\n    axios.get(\"/api/todolist\").then(res => {\n      state.list = res.data;\n    });\n    return {\n      state,\n      addItem,\n      deleteItem,\n      editItem,\n      hideCardBody\n    };\n  }\n};","map":{"version":3,"names":["reactive","axios","setup","cardBody","state","selected_category","selected_date","list","isNone","formData","id","email","title","content","createdAt","password","isActive","getToday","date","Date","year","getFullYear","month","getMonth","slice","day","getDate","editItem","console","log","deleteItem","pwd","prompt","delete","then","res","JSON","stringify","data","catch","err","addItem","getTime","post","finally","hideCardBody","found","find","el","put","get"],"sources":["E:\\files\\Coding\\udemy\\js_bootcamp\\test\\frontend\\src\\components\\TodoList.vue"],"sourcesContent":["<template>\r\n  <section class=\"vh-100\">\r\n    <div class=\"container py-5 h-100\">\r\n      <div class=\"row d-flex justify-content-center align-items-center h-100\">\r\n        <div class=\"col\">\r\n          <div\r\n            class=\"card\"\r\n            id=\"list1\"\r\n            style=\"border-radius: 0.75rem; background-color: #eff1f2\"\r\n          >\r\n            <div class=\"card-body py-4 px-4 px-md-5\">\r\n              <p class=\"h1 text-center mt-3 mb-4 pb-3 text-primary\">\r\n                <i class=\"fas fa-check-square me-1\"></i>\r\n                <u>JOIN CHALLENGE</u>\r\n              </p>\r\n              <!-- add challenge -->\r\n              <form>\r\n                <div class=\"form-group\">\r\n                  <label for=\"formDate.email\">Email address</label>\r\n                  <input\r\n                    type=\"email\"\r\n                    class=\"form-control\"\r\n                    id=\"email\"\r\n                    placeholder=\"name@example.com\"\r\n                    v-model=\"state.formData.email\"\r\n                  />\r\n                </div>\r\n                <div class=\"form-group\">\r\n                  <label for=\"title\">Title</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    id=\"title\"\r\n                    placeholder=\"plz enter the title, this will be shown as your title\"\r\n                    v-model=\"state.formData.title\"\r\n                  />\r\n                </div>\r\n\r\n                <div class=\"form-group\">\r\n                  <label for=\"content\">Example textarea</label>\r\n                  <textarea\r\n                    class=\"form-control\"\r\n                    id=\"content\"\r\n                    placeholder=\"event detail place\"\r\n                    rows=\"3\"\r\n                    v-model=\"state.formData.content\"\r\n                  ></textarea>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                  <label for=\"password\">Password</label>\r\n                  <input\r\n                    type=\"password\"\r\n                    class=\"form-control\"\r\n                    id=\"password\"\r\n                    placeholder=\"Password\"\r\n                    v-model=\"state.formData.password\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <button\r\n                    type=\"button\"\r\n                    class=\"btn btn-primary\"\r\n                    @click=\"addItem()\"\r\n                  >\r\n                    Add\r\n                  </button>\r\n                </div>\r\n              </form>\r\n              <!--add challenge  -->\r\n\r\n              <hr class=\"my-4\" />\r\n\r\n              <div\r\n                class=\"d-flex justify-content-end align-items-center mb-4 pt-2 pb-3\"\r\n              >\r\n                <p class=\"small mb-0 me-2 text-muted\">Filter</p>\r\n                <select class=\"select\" v-model=\"state.selected_category\">\r\n                  <option v-for=\"(item, index) in state.data\" :key=\"index\">\r\n                    {{ item }}\r\n                  </option>\r\n                </select>\r\n                <p class=\"small mb-0 ms-4 me-2 text-muted\">Sort</p>\r\n                <select class=\"select\" v-model=\"state.selected_date\">\r\n                  <option value=\"1\">Added date</option>\r\n                  <option value=\"2\">Due date</option>\r\n                </select>\r\n                <a\r\n                  href=\"#!\"\r\n                  style=\"color: #23af89\"\r\n                  data-mdb-toggle=\"tooltip\"\r\n                  title=\"Ascending\"\r\n                  ><i class=\"fas fa-sort-amount-down-alt ms-2\"></i\r\n                ></a>\r\n              </div>\r\n\r\n              <!--  ul Challenge List -->\r\n              <div>\r\n                <div\r\n                  class=\"card\"\r\n                  v-for=\"(item, index) in state.list\"\r\n                  :key=\"{ index }\"\r\n                >\r\n                  <section class=\"card-header\" id=\"headingOne\">\r\n                    <h5 class=\"mb-0\">\r\n                      <li\r\n                        class=\"list-group-item ps-3 pe-0 py-1 rounded-0 border-0 bg-transparent\"\r\n                      >\r\n                        <section\r\n                          class=\"d-flex flex-row justify-content-end mb-1\"\r\n                        >\r\n                          <button\r\n                            class=\"button-11\"\r\n                            role=\"button\"\r\n                            data-mdb-toggle=\"tooltip\"\r\n                            title=\"Edit todo\"\r\n                            @click=\"editItem(item.id)\"\r\n                          >\r\n                            <i class=\"fas fa-pencil-alt me-3\"></i>\r\n                          </button>\r\n                          <button\r\n                            class=\"button-11\"\r\n                            role=\"button\"\r\n                            data-mdb-toggle=\"tooltip\"\r\n                            title=\"Delete todo\"\r\n                            @click=\"deleteItem(item.id)\"\r\n                          >\r\n                            <i class=\"fas fa-trash-alt\"></i>\r\n                          </button>\r\n                        </section>\r\n                        <section class=\"text-end text-muted\">\r\n                          <a\r\n                            href=\"#!\"\r\n                            class=\"text-muted\"\r\n                            data-mdb-toggle=\"tooltip\"\r\n                            title=\"Created date\"\r\n                          >\r\n                            <p class=\"small mb-0\">\r\n                              <i class=\"fas fa-info-circle me-2\"></i\r\n                              >{{ item.createdAt }}\r\n                            </p>\r\n                          </a>\r\n                        </section>\r\n                      </li>\r\n                      <button\r\n                        class=\"btn btn-link\"\r\n                        data-toggle=\"collapse\"\r\n                        data-target=\"#collapseOne\"\r\n                        aria-expanded=\"false\"\r\n                        aria-controls=\"collapseOne\"\r\n                        @click=\"hideCardBody(item.id)\"\r\n                      >\r\n                        <h3>{{ item.title }}</h3>\r\n                      </button>\r\n                    </h5>\r\n                  </section>\r\n\r\n                  <div\r\n                    id=\"collapseOne\"\r\n                    class=\"collapse show\"\r\n                    aria-labelledby=\"headingOne\"\r\n                    data-parent=\"#accordion\"\r\n                  >\r\n                    <!-- <div class=\"card-body d-none\"> -->\r\n                    <div\r\n                      class=\"'card-body' + item.id\"\r\n                      :class=\"{ 'd-none': item.isActive }\"\r\n                    >\r\n                      {{ item.content }}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { reactive } from \"vue\";\r\nimport axios from \"axios\";\r\nexport default {\r\n  setup() {\r\n    const cardBody = null;\r\n    const state = reactive({\r\n      //\r\n      selected_category: \"\",\r\n      selected_date: \"\",\r\n      list: [],\r\n      isNone: true,\r\n      //\r\n      formData: {\r\n        id: \"\",\r\n        email: \"\",\r\n        title: \"\",\r\n        content: \"\",\r\n        createdAt: \"\",\r\n        password: \"\",\r\n        isActive: true,\r\n      },\r\n    });\r\n    //time set method\r\n    const getToday = () => {\r\n      let date = new Date();\r\n      let year = date.getFullYear();\r\n      let month = (\"0\" + (1 + date.getMonth())).slice(-2);\r\n      let day = (\"0\" + date.getDate()).slice(-2);\r\n      return year + \"/\" + month + \"/\" + day;\r\n    };\r\n\r\n    // methdos\r\n\r\n    //edit\r\n    const editItem = (id) => {\r\n      console.log(\"edit -> state.item.id : \" + id);\r\n    };\r\n\r\n    //delete\r\n    const deleteItem = (id) => {\r\n      const pwd = prompt(\"plz enter the password\");\r\n\r\n      axios\r\n        .delete(`/api/todolist/?id=${id}`)\r\n        .then((res) => {\r\n          console.log(\"res.data by delete: \" + JSON.stringify(res.data));\r\n          state.list = res.data;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    };\r\n    //add\r\n    const addItem = () => {\r\n      state.formData.createdAt = getToday();\r\n      state.formData.id = new Date().getTime(); //create id\r\n\r\n      const formData = state.formData;\r\n      console.log(\"formData id-> \" + formData.id);\r\n      axios\r\n        .post(\"/api/todolist\", formData)\r\n        .then((res) => {\r\n          state.list = res.data;\r\n          console.log(\"res.data by post: \" + JSON.stringify(res.data));\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        })\r\n        .finally(() => {\r\n          state.formData.id = \"\";\r\n          state.formData.email = \"\";\r\n          state.formData.title = \"\";\r\n          state.formData.content = \"\";\r\n          state.formData.createdAt = \"\";\r\n          state.formData.password = \"\";\r\n          //clear input\r\n        });\r\n    };\r\n\r\n    //hide and show button\r\n\r\n    const hideCardBody = (id) => {\r\n      const found = state.list.find((el) => el.id == id);\r\n      found.isActive = !found.isActive;\r\n      const isActive = found.isActive;\r\n      axios\r\n        .put(\"/api/todolist\", {\r\n          isActive,\r\n          id,\r\n        })\r\n        .then((res) => {\r\n          state.list = res.data;\r\n\r\n          console.log(\"res.data by get: \" + JSON.stringify(res.data));\r\n        });\r\n    };\r\n\r\n    //show\r\n    axios.get(\"/api/todolist\").then((res) => {\r\n      state.list = res.data;\r\n    });\r\n\r\n    return { state, addItem, deleteItem, editItem, hideCardBody };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n#list1 .form-control {\r\n  border-color: transparent;\r\n}\r\n#list1 .form-control:focus {\r\n  border-color: transparent;\r\n  box-shadow: none;\r\n}\r\n#list1 .select-input.form-control[readonly]:not([disabled]) {\r\n  background-color: #fbfbfb;\r\n}\r\n.hide {\r\n  visibility: hidden;\r\n}\r\n// <button class=\"button-11\" role=\"button\">Button 11</button>\r\n\r\n/* CSS */\r\n.button-11 {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 6px 14px;\r\n  font-family: -apple-system, BlinkMacSystemFont, \"Roboto\", sans-serif;\r\n  border-radius: 6px;\r\n  color: #3d3d3d;\r\n  background: #fff;\r\n  border: none;\r\n  box-shadow: 0px 0.5px 1px rgba(0, 0, 0, 0.1);\r\n  user-select: none;\r\n  -webkit-user-select: none;\r\n  touch-action: manipulation;\r\n}\r\n\r\n.button-11:focus {\r\n  box-shadow: 0px 0.5px 1px rgba(0, 0, 0, 0.1),\r\n    0px 0px 0px 3.5px rgba(58, 108, 217, 0.5);\r\n  outline: 0;\r\n}\r\n// const hideCardBody = (event) => {\r\n//   const cardBody = event.target\r\n//     .closest(\".card\")\r\n//     .querySelector(\".card-body\");\r\n//   cardBody.classList.toggle(\"d-none\");\r\n// };\r\n// ///axios\r\n</style>\r\n"],"mappings":"AAqLA,SAASA,QAAO,QAAS,KAAK;AAC9B,OAAOC,KAAI,MAAO,OAAO;AACzB,eAAe;EACbC,KAAKA,CAAA,EAAG;IACN,MAAMC,QAAO,GAAI,IAAI;IACrB,MAAMC,KAAI,GAAIJ,QAAQ,CAAC;MACrB;MACAK,iBAAiB,EAAE,EAAE;MACrBC,aAAa,EAAE,EAAE;MACjBC,IAAI,EAAE,EAAE;MACRC,MAAM,EAAE,IAAI;MACZ;MACAC,QAAQ,EAAE;QACRC,EAAE,EAAE,EAAE;QACNC,KAAK,EAAE,EAAE;QACTC,KAAK,EAAE,EAAE;QACTC,OAAO,EAAE,EAAE;QACXC,SAAS,EAAE,EAAE;QACbC,QAAQ,EAAE,EAAE;QACZC,QAAQ,EAAE;MACZ;IACF,CAAC,CAAC;IACF;IACA,MAAMC,QAAO,GAAIA,CAAA,KAAM;MACrB,IAAIC,IAAG,GAAI,IAAIC,IAAI,CAAC,CAAC;MACrB,IAAIC,IAAG,GAAIF,IAAI,CAACG,WAAW,CAAC,CAAC;MAC7B,IAAIC,KAAI,GAAI,CAAC,GAAE,IAAK,IAAIJ,IAAI,CAACK,QAAQ,CAAC,CAAC,CAAC,EAAEC,KAAK,CAAC,CAAC,CAAC,CAAC;MACnD,IAAIC,GAAE,GAAI,CAAC,GAAE,GAAIP,IAAI,CAACQ,OAAO,CAAC,CAAC,EAAEF,KAAK,CAAC,CAAC,CAAC,CAAC;MAC1C,OAAOJ,IAAG,GAAI,GAAE,GAAIE,KAAI,GAAI,GAAE,GAAIG,GAAG;IACvC,CAAC;;IAED;;IAEA;IACA,MAAME,QAAO,GAAKjB,EAAE,IAAK;MACvBkB,OAAO,CAACC,GAAG,CAAC,0BAAyB,GAAInB,EAAE,CAAC;IAC9C,CAAC;;IAED;IACA,MAAMoB,UAAS,GAAKpB,EAAE,IAAK;MACzB,MAAMqB,GAAE,GAAIC,MAAM,CAAC,wBAAwB,CAAC;MAE5C/B,KAAI,CACDgC,MAAM,CAAE,qBAAoBvB,EAAG,EAAC,EAChCwB,IAAI,CAAEC,GAAG,IAAK;QACbP,OAAO,CAACC,GAAG,CAAC,sBAAqB,GAAIO,IAAI,CAACC,SAAS,CAACF,GAAG,CAACG,IAAI,CAAC,CAAC;QAC9DlC,KAAK,CAACG,IAAG,GAAI4B,GAAG,CAACG,IAAI;MACvB,CAAC,EACAC,KAAK,CAAEC,GAAG,IAAK;QACdZ,OAAO,CAACC,GAAG,CAACW,GAAG,CAAC;MAClB,CAAC,CAAC;IACN,CAAC;IACD;IACA,MAAMC,OAAM,GAAIA,CAAA,KAAM;MACpBrC,KAAK,CAACK,QAAQ,CAACK,SAAQ,GAAIG,QAAQ,CAAC,CAAC;MACrCb,KAAK,CAACK,QAAQ,CAACC,EAAC,GAAI,IAAIS,IAAI,CAAC,CAAC,CAACuB,OAAO,CAAC,CAAC,EAAE;;MAE1C,MAAMjC,QAAO,GAAIL,KAAK,CAACK,QAAQ;MAC/BmB,OAAO,CAACC,GAAG,CAAC,gBAAe,GAAIpB,QAAQ,CAACC,EAAE,CAAC;MAC3CT,KAAI,CACD0C,IAAI,CAAC,eAAe,EAAElC,QAAQ,EAC9ByB,IAAI,CAAEC,GAAG,IAAK;QACb/B,KAAK,CAACG,IAAG,GAAI4B,GAAG,CAACG,IAAI;QACrBV,OAAO,CAACC,GAAG,CAAC,oBAAmB,GAAIO,IAAI,CAACC,SAAS,CAACF,GAAG,CAACG,IAAI,CAAC,CAAC;MAC9D,CAAC,EACAC,KAAK,CAAEC,GAAG,IAAK;QACdZ,OAAO,CAACC,GAAG,CAACW,GAAG,CAAC;MAClB,CAAC,EACAI,OAAO,CAAC,MAAM;QACbxC,KAAK,CAACK,QAAQ,CAACC,EAAC,GAAI,EAAE;QACtBN,KAAK,CAACK,QAAQ,CAACE,KAAI,GAAI,EAAE;QACzBP,KAAK,CAACK,QAAQ,CAACG,KAAI,GAAI,EAAE;QACzBR,KAAK,CAACK,QAAQ,CAACI,OAAM,GAAI,EAAE;QAC3BT,KAAK,CAACK,QAAQ,CAACK,SAAQ,GAAI,EAAE;QAC7BV,KAAK,CAACK,QAAQ,CAACM,QAAO,GAAI,EAAE;QAC5B;MACF,CAAC,CAAC;IACN,CAAC;;IAED;;IAEA,MAAM8B,YAAW,GAAKnC,EAAE,IAAK;MAC3B,MAAMoC,KAAI,GAAI1C,KAAK,CAACG,IAAI,CAACwC,IAAI,CAAEC,EAAE,IAAKA,EAAE,CAACtC,EAAC,IAAKA,EAAE,CAAC;MAClDoC,KAAK,CAAC9B,QAAO,GAAI,CAAC8B,KAAK,CAAC9B,QAAQ;MAChC,MAAMA,QAAO,GAAI8B,KAAK,CAAC9B,QAAQ;MAC/Bf,KAAI,CACDgD,GAAG,CAAC,eAAe,EAAE;QACpBjC,QAAQ;QACRN;MACF,CAAC,EACAwB,IAAI,CAAEC,GAAG,IAAK;QACb/B,KAAK,CAACG,IAAG,GAAI4B,GAAG,CAACG,IAAI;QAErBV,OAAO,CAACC,GAAG,CAAC,mBAAkB,GAAIO,IAAI,CAACC,SAAS,CAACF,GAAG,CAACG,IAAI,CAAC,CAAC;MAC7D,CAAC,CAAC;IACN,CAAC;;IAED;IACArC,KAAK,CAACiD,GAAG,CAAC,eAAe,CAAC,CAAChB,IAAI,CAAEC,GAAG,IAAK;MACvC/B,KAAK,CAACG,IAAG,GAAI4B,GAAG,CAACG,IAAI;IACvB,CAAC,CAAC;IAEF,OAAO;MAAElC,KAAK;MAAEqC,OAAO;MAAEX,UAAU;MAAEH,QAAQ;MAAEkB;IAAa,CAAC;EAC/D;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}